image: mwallasch/docker-ruby-node

pages:
  script:
  - gem install redcarpet
  - gem install jekyll
  - jekyll build -d public
  artifacts:
    paths:
    - public
  only:
  - master

staging:
  script:
  - gem install redcarpet jekyll dpl
  - jekyll build -d public
  - npm install -g firebase-tools@^2.1
  - dpl --provider=firebase --token=1/2GJtCAQ8E88zQHgZl5cysXC3YqaIKsVVpOlpkM0U2Lg
  artifacts:
    paths:
    - public
  only:
  - develop